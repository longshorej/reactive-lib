# This needs to be in application.conf because reference.conf files have no guarantee
# and Akka's values may override ours. If we were strictly in a Play app, we could use
# reference-overrides.conf but as Akka Cluster also can be used standalone, here we are.

akka {
  actor {
    provider = cluster
  }

  extensions += "com.lightbend.rp.akkaclusterbootstrap.ClusterBootstrap"

  remote {
    netty.tcp {
      hostname = ${?RP_ENDPOINTS_AKKA_REMOTE_HOST}
      port = ${?RP_ENDPOINTS_AKKA_REMOTE_HOST}

      bind-hostname = ${?RP_ENDPOINTS_AKKA_REMOTE_BIND_HOST}
      bind-port = ${?RP_ENDPOINTS_AKKA_REMOTE_BIND_HOST}
    }
  }
}

lagom.cluster {
  exit-jvm-when-system-terminated = on
  join-self = off
}

# Allow app to override the above if it wishes by defininig an akka-cluster-bootstrap-application-overrides.conf file

include "akka-cluster-bootstrap-application-overrides"